<?xml version="1.0" ?>
 
<!DOCTYPE module SYSTEM "helix-build.dtd">
 
<module>
  <decl>
    <list id="default build deps">
      <i>glib2-devel</i>
      <i>gtk2-devel</i>
      <i>libart_lgpl-devel</i>
      <i>libglade2-devel</i>
      <i>libgnomecanvas-devel</i>
      <i>libgsf-devel</i>
      <i>libgnomeui-devel</i>
      <i>libgda-devel</i>
      <i>libgnomedb-devel</i>
      <i>mono-core</i>
      <i>mono-devel</i>
      <i>pkgconfig</i>
      <i>vte-devel</i>
      <i>gnome-panel-devel</i>
      <i>libjpeg-devel</i>
    </list>
 
    <list id="SuSE build deps">
      <i>libgnomeprint</i>
      <i>libgnomeprint-devel</i>
      <i>libgnomeprintui</i>
      <i>libgnomeprintui-devel</i>
      <i>librsvg</i>
      <i>librsvg-devel</i>
      <i>libxslt-devel</i>
      <i>zlib-devel</i>
      <i>esound-devel</i>
      <i>popt-devel</i>
    </list>
  </decl>
 
  <targetset>
    <filter>
      <i>.*</i>
    </filter>
    <name>gtk-sharp2</name>
    <srcname>gtk-sharp</srcname>
    
    <psdata id="copyright">LGPL</psdata>
    <psdata id="url">http://gtk-sharp.sf.net</psdata>
 
    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>
    
    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
 
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>libgnomeprint22-devel</i>
        <i>libgnomeprintui22-devel</i>
        <i>gtkhtml3.0-devel</i>
        <i>librsvg2-devel</i>
      </builddep>
 
      <package id="default">
        <name>glib-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
	  <!-- 
	          /usr/lib/libgnomesharpglue-2.so    supposedly not needed -->

	  <i>[[usrlibdir]]/libglibsharpglue-2.so</i>
	  <i>[[usrprefix]]/lib/mono/gac/glib-sharp</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/glib-sharp.dll</i>
	  
	  <i>[[usrlibdir]]/pkgconfig/glib-sharp-2.0.pc</i>
						          
        </files>
 
        <dep id="requires">
          <!-- <i>librsvg-2.so.2[[libmark]]</i>
          <i>libgtkhtml-[[gtkhtmlver]][[libmark]]</i> -->
        </dep>
 
        <docs>
          <i>COPYING</i>
          <i>ChangeLog</i>
          <i>README</i>
        </docs>
 
<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-provides
} | sort | uniq
 
]]>
           </i>
</script>
 
<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>
</script>
 
        <description>
          <h>glib# bindings for Mono</h>
          <p>
	     Very speicific package for the Zenworks team 
	     containing glib sharp bindings.
	  </p>
        </description>
      </package>
 
    </build>
  </targetset>
    
  <targetset>
    <filter>
    <i>suse-93-*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.6.so.18</macro>
    </decl>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel</i>
        <i>gnome-keyring-devel</i>
      </builddep>
    </build>
  </targetset>
  
  <targetset>
    <filter>
      <i>x86_64</i>
    </filter>
    
    <decl>
      <macro id="libmark">()(64bit)</macro>
    </decl>
  </targetset>
</module>
 
<!--
    Local Variables:
    mode: xml
    End:
  -->
