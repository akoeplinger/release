<?xml version="1.0" ?>

<!DOCTYPE module SYSTEM "helix-build.dtd">

<module>
  <targetset>
    <rcsid>$Id: ximian-build.conf,v 1.33 2005/03/19 01:04:22 duncan Exp $</rcsid>
    <filter>
      <i>.*</i>
    </filter>
    <name>mod_mono</name>

    <version>1.0.8</version>
    <rev>1</rev>
    <serial>1</serial>

    <psdata id="copyright">GPL</psdata>
    <psdata id="url">http://www.apacheworld.org/modmono</psdata>

    <source>
      <i>mod_mono-[[version]].tar.gz-1</i>
    </source>
    
    <patch>
      <i>modmono-makefile-redhat.patch-3</i>
    </patch>

    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} DESTDIR=${DESTDIR} install</install>

      <builddep id="buildrequires">
        <i>mono-devel</i>
        <i>xsp</i>
        <i>pkgconfig</i>
        <i>httpd-devel</i>
      </builddep>

      <package id="default">
        <name>mod_mono</name>

        <psdata id="group">System Environment/Daemons</psdata>

        <files>
          <i>[[usrlibdir]]/httpd/modules/mod_mono.so*</i>
	  <i>[[usrsysconfdir]]/httpd/conf.d/mod_mono.conf</i>
          <i>[[usrmandir]]/man8/mod_mono.8</i>
        </files>

        <docs />
        
        <dep id="requires">
          <i>httpd</i>
	  <i>xsp = [[version]]</i>
        </dep>

        <description>
          <h>Run ASP.NET pages on Unix with Apache and Mono!</h>
          <p>mod_mono is a module that interfaces Apache with Mono and
          allows running ASP.NET pages on Unix and Unix-like systems</p>
        </description>
      </package>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>suse*</i>
      <i>sles*</i>
      <i>nld*</i>
    </filter>
    
    <patch>
     <i>mod_mono-makefile-sles9.patch-3</i>
    </patch>
    
    <build id="default">
      
      <builddep id="buildrequires">
        <i>mono-devel</i>        
        <i>xsp</i>
        <i>pkgconfig</i>        
        <i>apache2-devel</i>
      </builddep>

      <package id="default">

        <files>
          <i>[[usrlibdir]]/apache2/mod_mono.so*</i>
          <i>[[usrprefix]]/share/man/man8/mod_mono.8</i>
          <i>[[usrsysconfdir]]/apache2/conf.d/mod_mono.conf</i>
        </files>
        
        <dep id="requires">
          <i>apache2</i>
	  <i>xsp = [[version]]</i>
        </dep>
      </package>
    </build>
  </targetset>
</module>


<!--
    Local Variables:
    mode: xml
    End:
  -->
