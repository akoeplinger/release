<?xml version="1.0" ?>

<!DOCTYPE module SYSTEM "helix-build.dtd">

<module>
  <targetset>
    <filter>
      <i>.*</i>
    </filter>
    <name>xsp</name>

    <psdata id="copyright">GPL</psdata>
    <psdata id="url">http://www.go-mono.com</psdata>

    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>
        
    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>[[usrinstall]]</install>
      
      <psdata id="buildarch">noarch</psdata>

      <builddep id="buildrequires">
        <i>mono-web</i>
        <i>mono-data</i>
        <i>mono-core</i>
      </builddep>

      <package id="default">
        <name>xsp</name>

        <psdata id="group">Development</psdata>

        <files>
	  <i>[[usrprefix]]/bin/asp-state2</i>
	  <i>[[usrprefix]]/bin/asp-state</i>
	  <i>[[usrprefix]]/bin/dbsessmgr2</i>
	  <i>[[usrprefix]]/bin/dbsessmgr</i>
	  <i>[[usrprefix]]/bin/mod-mono-server2</i>
	  <i>[[usrprefix]]/bin/xsp2</i>
	  <i>[[usrprefix]]/lib/mono/2.0/asp-state2.exe.config</i>
	  <i>[[usrprefix]]/lib/mono/2.0/asp-state2.exe</i>
	  <i>[[usrprefix]]/lib/mono/2.0/dbsessmgr2.exe.config</i>
	  <i>[[usrprefix]]/lib/mono/2.0/dbsessmgr2.exe</i>
	  <i>[[usrprefix]]/lib/mono/2.0/mod-mono-server2.exe</i>
	  <i>[[usrprefix]]/lib/mono/2.0/xsp2.exe</i>
  	  <i>[[usrprefix]]/lib/mono/1.0/dbsessmgr.exe</i>
   	  <i>[[usrprefix]]/lib/mono/1.0/asp-state.exe.config</i>
   	  <i>[[usrprefix]]/lib/mono/1.0/asp-state.exe</i>
   	  <i>[[usrprefix]]/lib/mono/1.0/dbsessmgr.exe.config</i>
          <i>[[usrmandir]]/man1/asp-state.1</i>
          <i>[[usrmandir]]/man1/dbsessmgr.1</i>
          <i>[[usrmandir]]/man1/mod-mono-server.1</i>
          <i>[[usrmandir]]/man1/xsp.1</i>
          <i>[[usrprefix]]/bin/mod-mono-server</i>
          <i>[[usrprefix]]/bin/xsp</i>
          <i>[[usrprefix]]/lib/mono/1.0/mod-mono-server.exe</i>
          <i>[[usrprefix]]/lib/mono/1.0/xsp.exe</i>
          <i>[[usrprefix]]/share/doc/xsp/test/*</i>
        </files>

        <docs>
          <i>NEWS</i>
          <i>README</i>
        </docs>

<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-provides
} | sort | uniq

]]>
           </i>
</script> 

<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>           
</script>

        <description>
          <h>A small web server that hosts ASP.NET</h>
          <p>
	    This package contains XSP, a standalone web server written in C#
	    that can be used to run ASP.NET applications as well as a set of
	    pages, controls and web services that you can use to experience
	    ASP.NET.
	  </p>
        </description>
      </package>
    </build>
  </targetset>
</module>


<!--
    Local Variables:
    mode: xml
    End:
  -->
