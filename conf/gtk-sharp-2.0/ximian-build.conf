<?xml version="1.0" ?>
 
<!DOCTYPE module SYSTEM "helix-build.dtd">
 
<module>
  <decl>
    <list id="default build deps">
      <i>glib2-devel</i>
      <i>gtk2-devel</i>
      <i>libart_lgpl-devel</i>
      <i>libglade2-devel</i>
      <i>libgnomecanvas-devel</i>
      <i>libgsf-devel</i>
      <i>libgnomeui-devel</i>
      <i>libgda-devel</i>
      <i>libgnomedb-devel</i>
      <i>mono-core &gt;= 1.0.4</i>
      <i>mono-devel &gt;= 1.0.4</i>
      <i>pkgconfig</i>
      <i>vte-devel</i>
      <i>gnome-panel-devel</i>
      <i>libjpeg-devel</i>
    </list>
 
    <list id="SuSE build deps">
      <i>libgnomeprint</i>
      <i>libgnomeprint-devel</i>
      <i>libgnomeprintui</i>
      <i>libgnomeprintui-devel</i>
      <i>librsvg</i>
      <i>librsvg-devel</i>
      <i>libxslt-devel</i>
      <i>zlib-devel</i>
      <i>esound-devel</i>
      <i>popt-devel</i>
    </list>
  </decl>
 
  <targetset>
    <rcsid>$Id: ximian-build.conf,v 1.16 2005/01/13 22:33:35 joe Exp $</rcsid>
    <filter>
      <i>.*</i>
    </filter>
    <name>gtk-sharp2</name>
    <srcname>gtk-sharp</srcname>
    
    <rev>1</rev>
    <serial>1</serial>
 
    <psdata id="copyright">LGPL</psdata>
    <psdata id="url">http://gtk-sharp.sf.net</psdata>
 
    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>
    
    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
 
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>libgnomeprint22-devel</i>
        <i>libgnomeprintui22-devel</i>
        <i>gtkhtml3.0-devel</i>
        <i>librsvg2-devel</i>
      </builddep>
 
      <package id="default">
        <name>gtk-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrlibdir]]/*.so</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gconfsharp-schemagen.exe</i>
          <i>[[usrprefix]]/bin/gconfsharp2-schemagen</i>
          <i>[[usrprefix]]/lib/mono/gac/*/*</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0</i>
          <i>[[usrlibdir]]/pkgconfig/glade-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/art-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gnome-vfs-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gnome-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtkhtml-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gconf-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/rsvg-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/vte-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtk-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gda-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gnomedb-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtk-dotnet-2.0.pc</i>
        </files>
 
        <dep id="requires">
          <i>mono-core &gt;= 0.96</i>
          <i>librsvg2</i>
          <i>libgtkhtml-3.0.so.4</i>
        </dep>
 
        <docs>
          <i>COPYING</i>
          <i>ChangeLog</i>
          <i>README</i>
        </docs>
 
<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-provides
} | sort | uniq
 
]]>
           </i>
</script>
 
<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>
</script>
 
        <description>
          <h>.Net language bindings for Gtk+ and GNOME</h>
          <p>
            A C source parser and C which bind to GObject based
            libraries.  The Gtk+-2.0 libraries are included along with
            several GNOME platform libraries.
          </p>
        </description>
      </package>
 
      <package id="gtk-sharp-gapi">
        <name>gtk-sharp2-gapi</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/bin/gapi2-codegen</i>
          <i>[[usrprefix]]/bin/gapi2-fixup</i>
          <i>[[usrprefix]]/bin/gapi2-parser</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_codegen.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi-fixup.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_format_xml</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_parser.pl</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_pp.pl</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi2xml.pl</i>
          <i>[[usrlibdir]]/pkgconfig/gapi-2.0.pc</i>
          <i>[[usrprefix]]/share/gapi*/*.xml</i>
        </files>
 
        <dep id="requires">
          <i>perl-XML-LibXML-Common</i>
          <i>perl-XML-LibXML</i>
          <i>perl-XML-NamespaceSupport</i>
          <i>perl-XML-SAX</i>
          <i>gtk-sharp2 = [[fullversion]]</i>
        </dep>
 
        <description>
          <h>C source parser and C generator</h>
          <p>
            The gtk-sharp-gapi package includes the parser and code
            generator used by the Gtk if you want to bind
            GObject-based libraries, or need to compile a project that
            uses it to bind such a library.
          </p>
        </description>
      </package>
    </build>
  </targetset>
   
 <targetset>
    <filter>
      <i>fedora-3-i386</i>
    </filter>

    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3-devel</i>
        <i>libcroco-devel</i>
      </builddep>
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg2</i> 
          <i>libcroco</i>
        </dep>
      </package>
    </build>
  </targetset>
  
  <targetset>
    <filter>
      <i>nld-9-*</i>
    </filter>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel &lt; 3.3</i>
        <i>gnome-keyring-devel</i>
      </builddep>
 
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>
 
  <targetset>
    <filter>
    <i>suse-93-*</i>
    </filter>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel</i>
        <i>gnome-keyring-devel</i>
      </builddep>
 
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.6.so.18</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>
</module>
 
<!--
    Local Variables:
    mode: xml
    End:
  -->
