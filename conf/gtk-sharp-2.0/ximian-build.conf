<?xml version="1.0" ?>
 
<!DOCTYPE module SYSTEM "helix-build.dtd">
 
<module>
  <decl>
    <list id="default build deps">
      <i>glib2-devel</i>
      <i>gtk2-devel</i>
      <i>libart_lgpl-devel</i>
      <i>libglade2-devel</i>
      <i>libgnomecanvas-devel</i>
      <i>libgsf-devel</i>
      <i>libgnomeui-devel</i>
      <i>mono-core</i>
      <i>mono-devel</i>
      <i>pkgconfig</i>
      <i>vte-devel</i>
      <i>gnome-panel-devel</i>
      <i>libjpeg-devel</i>
    </list>
 
    <list id="SuSE build deps">
      <i>libgnomeprint</i>
      <i>libgnomeprint-devel</i>
      <i>libgnomeprintui</i>
      <i>libgnomeprintui-devel</i>
      <i>librsvg</i>
      <i>librsvg-devel</i>
      <i>libxslt-devel</i>
      <i>zlib-devel</i>
      <i>esound-devel</i>
      <i>popt-devel</i>
    </list>
  </decl>
 
  <targetset>
    <filter>
      <i>.*</i>
    </filter>
    <name>gtk-sharp2</name>
    <srcname>gtk-sharp</srcname>
    
    <psdata id="copyright">LGPL</psdata>
    <psdata id="url">http://gtk-sharp.sf.net</psdata>
 
    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>
    
    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
 
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>libgnomeprint22-devel</i>
        <i>libgnomeprintui22-devel</i>
        <i>gtkhtml3.0-devel</i>
        <i>librsvg2-devel</i>
      </builddep>
 
      <package id="default">
        <name>gtk-sharp2-complete</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files />

        <dep id="requires">
          <i>gconf-sharp2 = [[fullversion]]</i>
          <i>glade-sharp2 = [[fullversion]]</i>
          <i>glib-sharp2 = [[fullversion]]</i>
          <i>gnome-sharp2 = [[fullversion]]</i>
          <i>gtk-sharp2 = [[fullversion]]</i>
          <i>gtk-sharp2-doc = [[fullversion]]</i>
          <i>gtk-sharp2-gapi = [[fullversion]]</i>
          <i>vte-sharp2 = [[fullversion]]</i>
        </dep>
 
<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-provides
} | sort | uniq
 
]]>
           </i>
</script>
 
<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>
</script>
 
        <description>
          <h>GTK+ and GNOME bindings for Mono (virtual package)</h>
          <p>
            Gtk# is a library that allows you to build
            fully native graphical GNOME applications using Mono. Gtk#
            is a binding to GTK+, the cross platform user interface
            toolkit used in GNOME. It includes bindings for Gtk, Atk,
            Pango, Gdk, libgnome, libgnomeui and libgnomecanvas.
            (Virtual package which depends on all gtk-sharp2 subpackages)
	  </p>
        </description>
      </package>
 
      <package id="gtk-sharp-gapi">
        <name>gtk-sharp2-gapi</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/bin/gapi2-codegen</i>
          <i>[[usrprefix]]/bin/gapi2-fixup</i>
          <i>[[usrprefix]]/bin/gapi2-parser</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_codegen.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi-fixup.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi-parser.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_pp.pl</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi2xml.pl</i>
          <i>[[usrlibdir]]/pkgconfig/gapi-2.0.pc</i>
          <i>[[usrprefix]]/share/gapi-2.0</i>
        </files>
 
        <dep id="requires">
          <i>perl-XML-LibXML-Common</i>
          <i>perl-XML-LibXML</i>
          <i>perl-XML-NamespaceSupport</i>
          <i>perl-XML-SAX</i>
          <!-- don't think this is needed 
          <i>gtk-sharp2 = [[fullversion]]</i> -->
        </dep>
 
        <description>
          <h>Glib and GObject C source parser and C generator for the creation and maintenance of managed bindings for Mono and .NET</h>
          <p>
            This package provides developer tools for the creation and
            maintainance of managed bindings to native libraries which utilize
            glib and GObject. Some examples of libraries currently bound using
            the GAPI tools and found in Gtk# include Gtk, Atk, Pango, Gdk,
            libgnome, libgnomeui and libgnomecanvas.
          </p>
        </description>
      </package>

      <package id="glade-sharp2">
        <name>glade-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/glade-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/glade-sharp.dll</i>

          <i>[[usrlibdir]]/libgladesharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/glade-sharp-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for glade</h>
          <p>
            This package contains Mono bindings for glade.
          </p>
        </description>
      </package>
      <package id="vte-sharp2">
        <name>vte-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/vte-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/vte-sharp.dll</i>

          <i>[[usrlibdir]]/libvtesharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/vte-sharp-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for vte</h>
          <p>
            This package contains Mono bindings for vte.
          </p>
        </description>
      </package>

      <package id="glib-sharp2">
        <name>glib-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/glib-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/glib-sharp.dll</i>

          <i>[[usrlibdir]]/libglibsharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/glib-sharp-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for glib</h>
          <p>
            This package contains Mono bindings for glib.
          </p>
        </description>
      </package>

      <package id="gnome-sharp2">
        <name>gnome-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/art-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/art-sharp.dll</i>


          <i>[[usrprefix]]/lib/mono/gac/gnome-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gnome-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gnome-vfs-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gnome-vfs-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gtkhtml-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gtkhtml-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/rsvg-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/rsvg-sharp.dll</i>

          <i>[[usrlibdir]]/libgnomesharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/art-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gnome-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gnome-vfs-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtkhtml-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/rsvg-sharp-2.0.pc</i>
        </files>

        <dep id="requires">
          <i>libgtkhtml-[[gtkhtmlver]][[libmark]]</i>
          <i>librsvg-2.so.2[[libmark]]</i>
        </dep>
 
        <description>
          <h>Mono bindings for various Gnome libraries</h>
          <p>
            This package contains Mono bindings for several Gnome libraries.
            Included are art, gnome, gnome-vfs, gtkthml, and rsvg.
          </p>
        </description>
      </package>

      <package id="gtk-sharp2">
        <name>gtk-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/atk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/atk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gdk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gdk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gtk-dotnet</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gtk-dotnet.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gtk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gtk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/pango-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/pango-sharp.dll</i>

          <i>[[usrlibdir]]/libgdksharpglue-2.so</i>
          <i>[[usrlibdir]]/libgtksharpglue-2.so</i>
          <i>[[usrlibdir]]/libpangosharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/gtk-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtk-dotnet-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for gtk+</h>
          <p>
            This package contains Mono bindings for gtk+, gdk, atk, and pango.
          </p>
        </description>
      </package>

      <package id="gconf-sharp2">
        <name>gconf-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/bin/gconfsharp2-schemagen</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gconfsharp-schemagen.exe</i>

          <i>[[usrprefix]]/lib/mono/gac/gconf-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gconf-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/gconf-sharp-peditors</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/gconf-sharp-peditors.dll</i>

          <i>[[usrlibdir]]/pkgconfig/gconf-sharp-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for gconf</h>
          <p>
            This package contains Mono bindings for gconf and gconf peditors.
          </p>
        </description>
      </package>

      <package id="gtk-sharp2-doc">
        <name>gtk-sharp2-doc</name>
 
        <psdata id="group">Development/Libraries</psdata>

        <dep id="requires">
          <i>mono-tools</i>
        </dep>
 
        <files>
          <i>[[usrprefix]]/lib/monodoc</i>
        </files>

        <docs>
          <i>COPYING</i>
          <i>ChangeLog</i>
          <i>README</i>
        </docs>
 
        <description>
          <h>Monodoc documentation for gtk-sharp2</h>
          <p>
            This package contains the gtk-sharp2 documentation 
            for monodoc.
          </p>
        </description>
      </package>
	
    </build>
  </targetset>
   
  <targetset>
    <filter>
      <i>fedora-3-*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.1.so.11</macro>
    </decl>
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3-devel</i>
      </builddep>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>fedora-4-*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.6.so.18</macro>
    </decl>
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3-devel</i>
      </builddep>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>rhel-4*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.1.so.11</macro>
    </decl>
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3-devel</i>
      </builddep>
    </build>
  </targetset>
  
  <targetset>
    <filter>
      <i>nld-9-*</i>
      <i>suse-92-</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.1.so.11</macro>
    </decl>
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel &lt; 3.3</i>
        <i>gnome-keyring-devel</i>
      </builddep>
    </build>
  </targetset>
    
  <targetset>
    <filter>
    <i>suse-93-*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.6.so.18</macro>
    </decl>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel</i>
        <i>gnome-keyring-devel</i>
      </builddep>
    </build>
  </targetset>

  <targetset>
    <filter>
    <i>suse-100-*</i>
    </filter>
    <decl>
      <macro id="gtkhtmlver">3.8.so.15</macro>
    </decl>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel</i>
        <i>gnome-keyring-devel</i>
      </builddep>
    </build>
  </targetset>
  
  <targetset>
    <filter>
      <i>x86_64</i>
    </filter>
    
    <decl>
      <macro id="libmark">()(64bit)</macro>
    </decl>
  </targetset>
</module>
 
<!--
    Local Variables:
    mode: xml
    End:
  -->
