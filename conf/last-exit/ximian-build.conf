<?xml version="1.0" ?>

<!DOCTYPE module SYSTEM "helix-build.dtd">

<module>
  <targetset>
    <filter>
      <i>.*</i>
    </filter>
    <name>last-exit</name>

    <psdata id="copyright">GPL</psdata>
    <psdata id="url">http://www.o-hand.com/~iain/last-exit/</psdata>

    <source>
      <i>SVN https://svn.sourceforge.net/svnroot/bogus</i>
    </source>
        
    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
      
      <builddep id="buildrequires">
        <i>mono-devel</i>
        <i>mono-data</i>
        <i>gtk-sharp2</i>
	<i>gstreamer010-devel</i>
	<i>gstreamer010-plugins-base-devel</i>
      </builddep>
      
      <package id="default">
        <name>last-exit</name>

        <psdata id="group">Productivity/Multimedia/Sound/Players</psdata>

        <files>
		<i>[[usrsysconfdir]]/gconf/schemas</i>

		<i>[[usrprefix]]/bin/last-exit</i>

		<i>[[usrprefix]]/lib/last-exit/liblastexit.so</i>
		<i>[[usrprefix]]/lib/last-exit/last-exit.exe*</i>

		<i>[[usrprefix]]/share/applications/last-exit.desktop</i>
		<i>[[usrprefix]]/share/icons/hicolor/24x24/apps/last-exit-24.png</i>
		<i>[[usrprefix]]/share/icons/hicolor/scalable/apps/last-exit.svg</i>

        </files>

        <docs />

<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-provides
} | sort | uniq

]]>
           </i>
</script> 

<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>           
</script>

        <description>
          <h>Last Exit is a player for Last.fm written for gtk# and Mono</h>
          <p>Listen with Last.fm and fuel the social music revolution. It's easy. What are *you* listening to?</p>
        </description>
      </package>
    </build>
  </targetset>
</module>


<!--
    Local Variables:
    mode: xml
    End:
  -->
