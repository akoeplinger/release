<?xml version="1.0" ?>
 
<!DOCTYPE module SYSTEM "helix-build.dtd">
 
<module>
 
  <targetset>
    <filter>
      <i>.*</i>
    </filter>
    <name>gtk-sharp2</name>
    <srcname>gtk-sharp</srcname>
    
    <psdata id="copyright">LGPL</psdata>
    <psdata id="url">http://gtk-sharp.sf.net</psdata>
 
    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>
    
    <build id="default">
      <prepare>[[usrconfigure]] --enable-debug</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
 
      <builddep id="buildrequires">
        <i>glib2-devel</i>
        <i>gtk2-devel</i>
        <i>libglade2-devel</i>
        <i>libgsf-devel</i>
        <i>mono-core</i>
        <i>mono-devel</i>
        <i>pkgconfig</i>
        <i>libjpeg-devel</i>
      </builddep>
 
      <package id="default">
        <name>gtk-sharp2-complete</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files />

        <dep id="requires">
          <i>glade-sharp2 = [[fullversion]]</i>
          <i>glib-sharp2 = [[fullversion]]</i>
          <i>gtk-sharp2 = [[fullversion]]</i>
          <i>gtk-sharp2-doc = [[fullversion]]</i>
          <i>gtk-sharp2-gapi = [[fullversion]]</i>
        </dep>
 
<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-provides
} | sort | uniq
 
]]>
           </i>
</script>
 
<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh
 
filelist=`sed "s/['\"]/\\\&/g"`
  
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>
</script>
 
        <description>
          <h>GTK+ and GNOME bindings for Mono (virtual package)</h>
          <p>
            Gtk# is a library that allows you to build
            fully native graphical GNOME applications using Mono. Gtk#
            is a binding to GTK+, the cross platform user interface
            toolkit used in GNOME. It includes bindings for Gtk, Atk,
            Pango, Gdk, libgnome, libgnomeui and libgnomecanvas.
            (Virtual package which depends on all gtk-sharp2 subpackages)
	  </p>
        </description>
      </package>
 
      <package id="gtk-sharp2-gapi">
        <name>gtk-sharp2-gapi</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/bin/gapi2-codegen</i>
          <i>[[usrprefix]]/bin/gapi2-fixup</i>
          <i>[[usrprefix]]/bin/gapi2-parser</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_codegen.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi-fixup.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi-parser.exe</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi_pp.pl</i>
          <i>[[usrprefix]]/lib/gtk-sharp-2.0/gapi2xml.pl</i>
          <i>[[usrlibdir]]/pkgconfig/gapi-2.0.pc</i>
        </files>
 
        <dep id="requires">
          <i>perl-XML-LibXML-Common</i>
          <i>perl-XML-LibXML</i>
          <i>perl-XML-NamespaceSupport</i>
          <i>perl-XML-SAX</i>
          <!-- don't think this is needed 
          <i>gtk-sharp2 = [[fullversion]]</i> -->
        </dep>
 
        <description>
          <h>Glib and GObject C source parser and C generator for the creation and maintenance of managed bindings for Mono and .NET</h>
          <p>
            This package provides developer tools for the creation and
            maintainance of managed bindings to native libraries which utilize
            glib and GObject. Some examples of libraries currently bound using
            the GAPI tools and found in Gtk# include Gtk, Atk, Pango, Gdk,
            libgnome, libgnomeui and libgnomecanvas.
          </p>
        </description>
      </package>

      <package id="glade-sharp2">
        <name>glade-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/*glade-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*glade-sharp.dll</i>

          <i>[[usrlibdir]]/libgladesharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/glade-sharp-2.0.pc</i>

          <i>[[usrprefix]]/share/gapi-2.0/glade-api.xml</i>
        </files>
 
        <description>
          <h>Mono bindings for glade</h>
          <p>
            This package contains Mono bindings for glade.
          </p>
        </description>
      </package>

      <package id="glib-sharp2">
        <name>glib-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/*glib-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*glib-sharp.dll</i>

          <i>[[usrlibdir]]/libglibsharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/glib-sharp-2.0.pc</i>
        </files>
 
        <description>
          <h>Mono bindings for glib</h>
          <p>
            This package contains Mono bindings for glib.
          </p>
        </description>
      </package>

      <package id="gtk-sharp2">
        <name>gtk-sharp2</name>
 
        <psdata id="group">Development/Libraries</psdata>
 
        <files>
          <i>[[usrprefix]]/lib/mono/gac/*atk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*atk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/*gdk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*gdk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/*gtk-dotnet</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*gtk-dotnet.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/*gtk-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*gtk-sharp.dll</i>

          <i>[[usrprefix]]/lib/mono/gac/*pango-sharp</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp-2.0/*pango-sharp.dll</i>

          <i>[[usrlibdir]]/libgdksharpglue-2.so</i>
          <i>[[usrlibdir]]/libgtksharpglue-2.so</i>
          <i>[[usrlibdir]]/libpangosharpglue-2.so</i>

          <i>[[usrlibdir]]/pkgconfig/gtk-sharp-2.0.pc</i>
          <i>[[usrlibdir]]/pkgconfig/gtk-dotnet-2.0.pc</i>

          <i>[[usrprefix]]/share/gapi-2.0/atk-api.xml</i>
          <i>[[usrprefix]]/share/gapi-2.0/gdk-api.xml</i>
          <i>[[usrprefix]]/share/gapi-2.0/gtk-api.xml</i>
          <i>[[usrprefix]]/share/gapi-2.0/pango-api.xml</i>
        </files>
 
        <description>
          <h>Mono bindings for gtk+</h>
          <p>
            This package contains Mono bindings for gtk+, gdk, atk, and pango.
          </p>
        </description>
      </package>

      <package id="gtk-sharp2-doc">
        <name>gtk-sharp2-doc</name>
 
        <psdata id="group">Development/Libraries</psdata>

	<!-- nope... circular dep -->
        <!-- <dep id="requires">
          <i>mono-tools</i>
        </dep> -->
 
        <files>
          <i>[[usrprefix]]/lib/monodoc</i>
        </files>

        <docs>
          <i>COPYING</i>
          <i>ChangeLog</i>
          <i>README</i>
        </docs>
 
        <description>
          <h>Monodoc documentation for gtk-sharp2</h>
          <p>
            This package contains the gtk-sharp2 documentation 
            for monodoc.
          </p>
        </description>
      </package>
	
    </build>
  </targetset>
   
  <targetset>
    <filter>
      <i>x86_64</i>
    </filter>
    
    <decl>
      <macro id="libmark">()(64bit)</macro>
    </decl>
  </targetset>
</module>
 
<!--
    Local Variables:
    mode: xml
    End:
  -->
