<?xml version="1.0" ?>

<!DOCTYPE module SYSTEM "helix-build.dtd">

<module>
  <decl>
    <list id="default build deps">
      <i>glib2-devel</i>
      <i>gtk2-devel</i>
      <i>libart_lgpl-devel</i>
      <i>libglade2-devel</i>
      <i>libgnomecanvas-devel</i>
      <i>libgsf-devel</i>
      <i>libgnomeui-devel</i>
      <i>mono-core &gt;= 1.0.5</i>      
      <i>mono-devel &gt;= 1.0.5</i>
      <i>pkgconfig</i>
      <i>vte-devel</i>
    </list>

    <list id="SuSE build deps">
      <i>libgnomeprint</i>      
      <i>libgnomeprint-devel</i>
      <i>libgnomeprintui</i>
      <i>libgnomeprintui-devel</i>
      <i>librsvg</i>      
      <i>librsvg-devel</i>
      <i>zlib-devel</i>
      <i>esound-devel</i>
      <i>popt-devel</i>        
    </list>
  </decl>

  <targetset>
    <rcsid>$Id: ximian-build.conf,v 1.133 2005/04/06 22:20:00 distro Exp $</rcsid>
    <filter>
      <i>.*</i>
    </filter>
    <name>gtk-sharp</name>

    <rev>0</rev>
    <serial>1</serial>

    <psdata id="copyright">LGPL</psdata>
    <psdata id="url">http://gtk-sharp.sf.net</psdata>
    <source>
      <!-- doesn't really work, just fools buildbuddy about where the tar is -->
      <i>SVN svn+ssh://mono-cvs.ximain.com/source/trunk</i>
    </source>

    <build id="default">
      <prepare>autoconf; [[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>

      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>libgnomeprint22-devel</i>
        <i>libgnomeprintui22-devel</i>
        <i>gtkhtml3-devel</i>
        <i>librsvg2-devel</i>
      </builddep>

      <package id="default">
        <name>gtk-sharp</name>

        <psdata id="group">Development/Libraries</psdata>

        <files>
	  <i>[[usrlibdir]]/*.so</i>         
	  <i>[[usrprefix]]/bin/gconfsharp-schemagen.exe</i>
	  <i>[[usrprefix]]/bin/gconfsharp-schemagen</i>
	  <i>[[usrprefix]]/lib/mono/gac/art-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/atk-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gconf-sharp-peditors/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gconf-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gdk-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/glade-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/glib-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gnome-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gtk-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/pango-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/rsvg-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/vte-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gac/gtkhtml-sharp/*</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/art-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/atk-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gconf-sharp-peditors.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gconf-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gdk-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/glade-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/glib-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gnome-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gtk-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/pango-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/rsvg-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/vte-sharp.dll</i>
	  <i>[[usrprefix]]/lib/mono/gtk-sharp/gtkhtml-sharp.dll</i>
	  <i>[[usrlibdir]]/pkgconfig/*.pc</i>
        </files>

        <dep id="requires">
          <i>mono-core &gt;= 0.96</i>
          <i>librsvg2</i>
          <i>libgtkhtml-3.1.so.11</i>          
        </dep>

        <docs>
          <i>COPYING</i>
          <i>ChangeLog</i>
          <i>README</i>
        </docs>

<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-provides
} | sort | uniq

]]>
           </i>
</script> 

<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>           
</script>

        <description>
          <h>.Net language bindings for Gtk+ and GNOME</h>
          <p>
            A C source parser and C which bind to GObject based
            libraries.  The Gtk+-2.0 libraries are included along with
            several GNOME platform libraries.
          </p>
        </description>
      </package>

      <package id="gtk-sharp-gapi">
        <name>gtk-sharp-gapi</name>

        <psdata id="group">Development/Libraries</psdata>

        <files>
          <i>[[usrprefix]]/bin/gapi-codegen</i>
          <i>[[usrprefix]]/bin/gapi-fixup.exe</i>
          <i>[[usrprefix]]/bin/gapi-fixup</i>
          <i>[[usrprefix]]/bin/gapi-parser</i>
          <i>[[usrprefix]]/bin/gapi.pl</i>
          <i>[[usrprefix]]/bin/gapi2xml.pl</i>
          <i>[[usrprefix]]/bin/gapi_codegen.exe</i>
          <i>[[usrprefix]]/bin/gapi_format_xml</i>
          <i>[[usrprefix]]/bin/gapi_pp.pl</i>
          <i>[[usrlibdir]]/pkgconfig/gapi.pc</i>
          <i>[[usrprefix]]/share/gapi/*.xml</i>
          <!-- <i>[[usrprefix]]/share/perl5/GAPI/Metadata.pm</i> -->
        </files>

        <dep id="requires">
          <i>perl-XML-LibXML-Common</i>
          <i>perl-XML-LibXML</i>
          <i>perl-XML-NamespaceSupport</i>
          <i>perl-XML-SAX</i>
          <i>gtk-sharp = [[fullversion]]</i>
        </dep>

        <description>
          <h>C source parser and C generator</h>
          <p>
            The gtk-sharp-gapi package includes the parser and code
            generator used by the Gtk if you want to bind
            GObject-based libraries, or need to compile a project that
            uses it to bind such a library.
          </p>
        </description>
      </package>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>redhat-9-i386</i>
    </filter>
    
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3.0-devel</i>
      </builddep>
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.0.so.4</i>
          <i>librsvg2</i> 
        </dep>
      </package>
    </build>
  </targetset>

 <targetset>
    <filter>
      <i>fedora-3-i386</i>
    </filter>

    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <i>librsvg2-devel</i>
        <i>gtkhtml3-devel</i>
        <i>libcroco-devel</i>
      </builddep>
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg2</i> 
          <i>libcroco</i>
        </dep>
      </package>
    </build>
  </targetset>
  
  <targetset>
    <filter>
      <i>nld-9-*</i>
    </filter>

    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel &lt; 3.3</i>
        <i>gnome-keyring-devel</i>
      </builddep>

      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>sles-9-*</i>
    </filter>
    <build id="default">
      <builddep id="buildrequires">
	<l>default build deps</l>
	<i>gtkhtml2-devel &lt; 3.3</i>
	<l>SuSE build deps</l>
      </builddep>

      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>

  <targetset>
    <filter>
      <i>suse-92-i586</i>
    </filter>

    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel &lt; 3.3</i>
        <i>gnome-keyring-devel</i>
	<i>libjpeg-devel</i>
      </builddep>

      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.1.so.11</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>
  
  <targetset>
    <filter>
    <i>suse-93-*</i>
    </filter>
 
    <build id="default">
      <builddep id="buildrequires">
        <l>default build deps</l>
        <l>SuSE build deps</l>
        <i>gtkhtml2-devel</i>
        <i>gnome-keyring-devel</i>
      </builddep>
 
      <package id="default">
        <dep id="requires">
          <i>libgtkhtml-3.6.so.18</i>
          <i>librsvg-2.so.2</i>
        </dep>
      </package>
    </build>
  </targetset>
 
</module>

<!--
    Local Variables:
    mode: xml
    End:
  -->
