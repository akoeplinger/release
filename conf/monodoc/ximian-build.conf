<?xml version="1.0" ?>

<!DOCTYPE module SYSTEM "helix-build.dtd">

<module>

  <targetset>
    <rcsid>$Id: ximian-build.conf,v 1.64 2004/12/07 23:43:24 duncan Exp $</rcsid>
    <filter>
      <i>.*</i>
    </filter>

    <name>monodoc</name>
    <version>1.0.5</version>
    <rev>1</rev>
    <serial>1</serial>

    <psdata id="copyright">GPL</psdata>
    <psdata id="url">http://go-mono.com</psdata>

    <source>
      <i>monodoc-[[version]].tar.gz-1</i>
    </source>

    <build id="default">
      <prepare>[[usrconfigure]]</prepare>
      <compile>${MAKE}</compile>
      <install>${MAKE} install DESTDIR=${DESTDIR}</install>
      <psdata id="buildarch">noarch</psdata>

      <builddep id="buildrequires">
        <i>gtk-sharp</i>
        <i>mono-web</i>
        <i>mono-core</i>
      </builddep>
      
      <package id="default">
        <name>monodoc</name>

        <psdata id="group">Development/Tools</psdata>
	
	
        <files>
          <i>[[usrprefix]]/lib/mono/gac/monodoc/1.0.0.0*/*</i>

          <i>[[usrprefix]]/bin/monodoc</i>
          <i>[[usrprefix]]/bin/mod</i>

	  <i>[[usrprefix]]/lib/monodoc/assembler.exe</i>
	  <i>[[usrprefix]]/lib/monodoc/browser.exe</i>
	  <i>[[usrprefix]]/lib/monodoc/cs2ecma.exe</i>
	  <i>[[usrprefix]]/lib/monodoc/mod.exe</i>
	  <i>[[usrprefix]]/lib/monodoc/monodoc.xml</i>
	  <i>[[usrprefix]]/lib/monodoc/normalize.exe</i>
          <i>[[usrprefix]]/lib/monodoc/validate.exe</i>

          <!-- <i>[[usrprefix]]/lib/monodoc/monodoc.index</i> -->

	  <i>[[usrprefix]]/lib/monodoc/sources/cs-errors.source</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/cs-errors.tree</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/cs-errors.zip</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/ecma334.source</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/ecma334.tree</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/ecma334.zip</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/gecko-sharp-docs.source</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/gecko-sharp-docs.tree</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/gecko-sharp-docs.zip</i>
          <i>[[usrprefix]]/lib/monodoc/sources/gtk-sharp-docs.source</i>
          <i>[[usrprefix]]/lib/monodoc/sources/gtk-sharp-docs.tree</i>
          <i>[[usrprefix]]/lib/monodoc/sources/gtk-sharp-docs.zip</i>
          <i>[[usrprefix]]/lib/monodoc/sources/monohb.source</i>
          <i>[[usrprefix]]/lib/monodoc/sources/monohb.tree</i>
          <i>[[usrprefix]]/lib/monodoc/sources/monohb.zip</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Mono.source</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Mono.tree</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Mono.zip</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/netdocs.source</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/netdocs.tree</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/netdocs.zip</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Novell.source</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Novell.tree</i>
          <i>[[usrprefix]]/lib/monodoc/sources/Novell.zip</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/nunit-docs.source</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/nunit-docs.tree</i>
	  <i>[[usrprefix]]/lib/monodoc/sources/nunit-docs.zip</i>

	  <i>[[usrprefix]]/lib/monodoc/updater.exe</i>
	  <i>[[usrprefix]]/share/applications/monodoc.desktop</i>
	  <i>[[usrprefix]]/share/pixmaps/monodoc.png</i>
          <i>[[usrprefix]]/lib/mono/gtk-sharp/monodoc.dll</i>
          <i>[[usrprefix]]/lib/pkgconfig/monodoc.pc</i>
        </files>
        
<script id="find_provides">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-provides
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-provides
} | sort | uniq

]]>
           </i>
</script> 

<script id="find_requires">
           <i>
<![CDATA[
#!/bin/sh

filelist=`sed "s/['\"]/\\\&/g"`
 
{
    echo $filelist | tr [:blank:] \\n | /usr/lib/rpm/find-requires
    echo $filelist | tr [:blank:] \\n | MONO_GAC_PREFIX=dest/usr /usr/bin/mono-find-requires
} | sort | uniq
]]>
           </i>           
</script>

<script id="postinst">
  <i>#!/bin/sh monodoc --make-index</i>
</script>

        <docs />

        <description>
          <h>Monodoc is a documentation browsen writtten in C#</h>
          <p>
            Monodoc is a documentation browser for the Mono
            Project. It's written in C# using the GTK# libraries.
          </p>
        </description>
      </package>
    </build>
  </targetset>
</module>


<!--
    Local Variables:
    mode: xml
    End:
  -->
