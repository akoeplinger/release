 <html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<head>
	<title>DRAFT: Mono 2.0: Release Notes.</title>
	<link rel="stylesheet" type="text/css" href="http://www.go-mono.com/archive/1.0/mono.css"/>
	<script src='http://www.go-mono.com/archive/prettyprint.js'
	type='text/javascript'></script>
    <style type="text/css" title="default">
    pre {
    padding: 6pt;
    background-color: #f6f6f6;
    border: 1px solid #ddd;    
    }
    </style>
</head>   

<html>
<body onload='paintColors();'>

<h1>DRAFT Mono 2.0 Release, 2008</h1>

	<p><b>This is a Draft for the Mono 2.0 release notes, it is
	not a final document</b>.

	<p>Mono 2.0 is an portable and open source implementation of
	the .NET framework to Unix, Windows, MacOS and other operating
	systems.
	
	<ul>
		<li><a href="#changes">Changes since version 1.9</a>
		<li><a href="#install">Download and installation.</a>
		<li><a href="#contributors">Contributors to this release.</a>
	</ul>

<h2>Major Highlights</h2>

	<p>Mono 2.0 is a major milestone in the Mono project, and it
	supports the following features:

	<li><b>Microsoft Compatible API:</b>
	<ul>
		<li>ADO.NET 2.0 API for accessing databases.
		
		<li>ASP.NET 2.0 API for developing Web-based
		applications.

		<li>Windows.Forms 2.0 API to create desktop
		applications.

		<li>System.XML 2.0: An API to manipulate XML
		documents.

		<li>System.Core: Provides support for the Language
		Integrated Query (LINQ).

		<li>System.Xml.Linq: Provides a LINQ provider for
		XML.

		<li>System.Drawing 2.0 API: A portable graphics
		rendering API.

	</ul>

	<li><b>Mono APIs:</b>
	<ul>
		<li>Gtk# 2.12: A binding to the Gtk+ 2.12 and GNOME
		libraries for creating desktop applications on Linux,
		Windows and MacOS X.

		<li>Mono.Cecil: A library to manipulate ECMA CLI files
		(the native format used for executables and
		libraries).

		<li>Mono.Cairo: A binding to the Cairo Graphics
		library to produce 2D graphics and render them into a
		variety of forms (images, windows, postscript and
		PDF).

		<li>Mono's SQLite support: a library to create and
		consume databases created with SQLite.

		<li>Mono.Posix: a library to access Linux and Unix
		specific functionality from your managed application.
		With both a low-level interface as well as higher
		level interfaces.
	</ul>

	<li><b>Third Party APIs bundled with Mono:</b>
	<ul>
		<li>Extensive support for databases: PostgresSQL, DB2,
		Oracle, Sybase, SQL server, SQLite and Firebird.

		<li>C5 Generics Library: we are bundling the C5
		generics collection class library as part of Mono.
	</ul>
	
	
	<li><b>Compilers:</b>
	<ul>
		<li>C# 3.0 compiler implementation, with full support
		for LINQ.

		<li>Visual Basic 8 compiler.

		<li>IL assembler and disassembler and the development
		toolchain required to create libraries and
		applications. 
	</ul>
	
<a name="changes">

<h2>Changes Since Release 1.9</h2>

	<p>These are the major changes that happened since the 1.9
	release of Mono.

	<p>All of the changes since 1.2 are documented in the
	following release notes:

	<a href="http://www.go-mono.com/archive/1.2.1">1.2.1</a>,
	<a href="http://www.go-mono.com/archive/1.2.2">1.2.2</a>,
	<a href="http://www.go-mono.com/archive/1.2.3">1.2.3</a>,
	<a href="http://www.go-mono.com/archive/1.2.4">1.2.4</a>,
	<a href="http://www.go-mono.com/archive/1.2.5">1.2.5</a>,
	<a href="http://www.go-mono.com/archive/1.2.6">1.2.6</a>,
	<a href="http://www.go-mono.com/archive/1.9">1.9</a> and
	<a href="http://www.go-mono.com/archive/1.9.1">1.9.1</a>.

<h2>
<h2>Runtime: Performance</h2>

	<p>The performance of operations on decimals has significally
	improved.
	
	<p>The performance of locking (Monitor.Enter/Monitor.Exit) is
	significally improved.
	
	<p>The memory usage of the runtime is reduced, especially when
	using generics.   
	
	<p>Many race conditions and threading problems were fixed,
	improving reliability.
	
	<p>Math.Min/Math.Max and some forms of
	Interlocked.CompareExhange (CAS) are now implemented using
	fast inline code on x86/amd64.

	<p>There is now a MONO_DEBUG=dont-free-domains option that
	improves the performance of ASP.NET-based applications. 

<h2>Runtime: Features</h2>

	<p>Some progress has been made on the Winx64 port [Bill
	Holmes, Jonathan Chambers]

	<p>The runtime is now built using the dolt libtool replacement 
	(http://dolt.freedesktop.org/) this speeds up runtime compilations
	by about 30%.

	<p>The runtime build process is now less verbose on some platforms, 
	similar to the way the linux kernel is built. To turn it off, use the 
	--enable-quiet-build=no argument to configure, or pass the V=1 argument to make.

	<p>There is now a --debug=casts command line option to the
	runtime which turns on the reporting of better
	InvalidCastException message details.

	<p>The mono_method_get_unmanaged_thunk () function has been implemented
        for
        developers <a href="http://www.mono-project.com/Embedding_Mono">embedding
        Mono</a> which simplifies calling managed methods from
        unmanaged code. 
	
	<p><a href="https://bugzilla.novell.com/buglist.cgi?query_format=advanced&short_desc_type=allwordssubstr&short_desc=&long_desc_type=fulltext&long_desc=&classification=Mono&product=Mono%3A+Runtime&bug_file_loc_type=allwordssubstr&bug_file_loc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=allwords&keywords=&bug_status=NEEDINFO&bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&resolution=FIXED&resolution=INVALID&resolution=WONTFIX&resolution=DUPLICATE&resolution=WORKSFORME&emailassigned_to1=1&emailtype1=substring&email1=&emailassigned_to2=1&emailreporter2=1&emailqa_contact2=1&emailcc2=1&emailtype2=substring&email2=&bugidtype=include&bug_id=&votes=&chfieldfrom=2008-01-29&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=noop&type0-0-0=noop&value0-0-0=">Runtime bugs fixed/closed in this release</a>

<h2>Gendarme</h2>

	<p><a href="http://www.mono-project.com/Gendarme">Gendarme</a> 
	is an extensible rule-based tool to find problems in .NET
	applications and libraries. Gendarme inspects programs and
	libraries that contain code in ECMA CIL format (Mono and .NET)
	and looks for common problems with the code, problems that
	compiler do not typically check or have not historically
	checked.

	<p>This release introduce a new wizard-based GUI runner.
	It also add support for .MDB and .PDB debugging symbols,
	allowing source lines numbers inside reports.

	<p>This release contains 151 rules (56 new and many updated)
	divided into 14 categories (2 new) and yet is faster than the 
	version	shipped with Mono 1.9. 
	<a href="http://anonsvn.mono-project.com/source/branches/mono-2-0/mono-tools/gendarme/NEWS">More...</a>

<h2>C# Compiler</h2>

	<p>The compiler now support expression trees (turning
	expressions into an AST at compile time when the type of a
	parameter is a System.Query.Expression).   This completes the
	C# 3.0 support.
	
	<p>Over 60 reported bugs in the compiler were fixed and
	many of the internals have been cleaned up.   Extensive
	refactoring and hardening of the C# 2.0 and 3.0 support are
	now better integrated.

	<p>A major rewrite of the anonymous method/lambda support in
	the internals of the compiler now optimizes the resulting
	code, and fixes several bugs in this area.

	<p>The compiler is now dual licensed under the MIT X11 and the
	GNU GPL version 2 (only).

	<p>The compiler now supports #pragma checksum for use with
	ASP.NET debugging and #line hidden, as well as flagging more
	compiler-generated code properly (to avoid the debugger
	single-stepping into those bits).

<h2>LINQ</h2>

	<p>LINQ and LINQ to XML are now complete, support for
	expression trees is now available as well as the backend to
	support expression tree compilation.

	<p>LINQ to Dataset has also been implemented.
	
<h2>Performance Counters Implementation</h2>

	<p>Mono now has a performance counters implementation that can
	be used to monitor various statistics of Mono processes.  To
	access this API you use the
	System.Diagnostics.PerformanceCounter classes.

	<p>Currently the counters can only be read from the same
	process, there is no setup to share across processes.

<h2>ASP.NET: VirtualPathProvider</h2>

	<p>This was one of the missing features from our ASP.NET 2.0
	implementation, we now have a it available (Marek).

	<P>ASP.NET now has support for *.browser files.
	
<h2>Support for Native Methods.</h2>

	<p>Support for native methods in assemblies was developed by
	Kornél Pál.  These are assemblies that contain a mix of CIL
	bytecode as well as native code (x86 or x86-64 for now),
	generated by Microsoft's C++ compiler.   Native methods are
	referred as "IJW" for it-just-works thunks.

	<p>This feature is only supported for Windows.

<h2>Big Arrays</h2>

	<p>Mono now supports 64-bit indexed arrays on 64-bit systems.
	Although this is permitted by the ECMA standard, this today is
	a unique feature of Mono as .NET on Windows does not support
	64-bit array indexes.  This code was developed by Luis Ortiz
	at Interactive Supercomputing and integrated by Rodrigo
	Kumpera.

	<p>This feature is useful for developers that needs to
	manipulate very large data sets with C# arrays.   

	<p>To use this feature, you must configure Mono with
	--enable-big-arrays.
	
<h2>DTrace Support</h2>

	<p>On MacOS and Solaris Mono supports DTrace probes.

	<p>To use this feature, you must configure mono
	with --enable-dtrace.
	

<h2>ASP.NET and ADO.NET</h2>

	<p>Several changes to improve the scaling and performance of
	both ASP.NET and ADO.NET (Christian, Gonzalo, Marek,
	Varadhan). 

	<p>Increased performance is now available if you use the
	option MONO_DEBUG=dont-free-domains option on ASP.NET sites.

<h2>Windows.Forms</h2>

	<p>Windows.Forms now supports international keyboard input
	through XIM.  This new support has been tested with both
	scim-anthy and Atok X3 (iiimx).

<h2>Monodoc</h2>

	<p>Monodoc now supports extension methods and will display
	links to applicable extension methods from a type's Members page.
	Extension methods are displayed from all documentation sources
	registered with monodoc.

	<p>The monodoc command line tools (e.g.  <tt>mdassembler</tt>, 
	<tt>monodocer</tt>, <tt>monodocs2html</tt>, and
	<tt>monodocs2slashdoc</tt>) have been wrapped into a single
	<tt>mdoc</tt> program to normalize and simplify usage.

<a name="install">
<h1>Installing Mono 2.0</h1>
	
	<pre class="shell">
	
	$ ./configure --prefix=/devel
	</pre>

	<p><b>Binary Packages and Source Code Downloads:</b>
	<blockquote>
	<p>Source code and pre-compiled packages for Linux, Solaris,
	MacOS X and Windows is available from our web site from the <a
	href="http://www.mono-project.com/Downloads">download</a>
	section.

	</blockquote>

	<p><b>Quick source code installation:</b>
        
	 <blockquote>
	 <p>If we have no packages for your platform, installing from
	 source code is very simple.
	
	 <p>mono:</p>
	
	<pre class="shell">
	
    $ tar xzf mono-2.0.tar.gz
    $ cd mono-2.0
    $ ./configure
    $ make
    $ make install

</pre>

	<p>Then compile libgdiplus:
	
	<pre class="shell">
	
    $ tar xzf libgdiplus-2.0.tar.gz
    $ cd libgdiplus-2.0
    $ ./configure
    $ make
    $ make install

</pre>
	</blockquote>
		
</blockquote>

<a name="contributors">
<h1>Conrtributors to this release</h1>

	<p>Andreas Farber
