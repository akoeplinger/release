<project>
  <allowComponentSelection>0</allowComponentSelection>
  <fullName>Mono</fullName>
  <installerFilename>${product_shortname}-${product_version}-installer.bin</installerFilename>
  <licenseFile>usr/share/doc/License.txt</licenseFile>
  <logoImage>usr/share/pixmaps/monotm48x48.png</logoImage>
  <leftImage>../projects/mono/leftpanel163x314.gif</leftImage>
  <projectSchemaVersion>1.0</projectSchemaVersion>
  <readmeFile>usr/share/doc/Readme.txt</readmeFile>
  <requireInstallationByRootUser>0</requireInstallationByRootUser>
  <shortName>mono</shortName>
  <version>@@VERSION@@</version>
  <wrapLicenseFileText>1</wrapLicenseFileText>
  <postInstallationScript>${installdir}/bin/.installer_post_install</postInstallationScript>
  <postInstallationScriptArguments>${installdir} ${AddMonoEnv}</postInstallationScriptArguments>
  <showPostInstallationScriptResult>1</showPostInstallationScriptResult>
  <compressionAlgorithm>lzma</compressionAlgorithm>
  <componentList>
    <component>
      <description>Default Component</description>
      <name>default</name>
      <selected>1</selected>
      <desktopShortcutList>
        <fileShortcut>
           <comment>Mono @@VERSION@@ Installation Directory</comment>
           <filePath>${installdir}</filePath>
           <icon>${installdir}/share/pixmaps/monotm48x48.png</icon>
           <name>Mono @@VERSION@@</name>
           <platforms>linux</platforms>
        </fileShortcut>
      </desktopShortcutList>
      <folderList>
	<folder>
	  <description>Program Files</description>
	  <destination>${installdir}</destination>
	  <name>programfiles</name>
          <actionList>
	    <substitute>
	      <files>@@SUBST_FILES@@</files>
	      <substitutionList>
		<substitution>
		  <pattern>@@BITROCK_MONO_ROOTDIR@@</pattern>
		  <value>${installdir}</value>
		</substitution>
	      </substitutionList>
	    </substitute>
	    <substitute>
	      <files>*/html/index.html</files>
	      <substitutionList>
		<substitution>
		  <pattern>@@BITROCK_MONO_VERSION@@</pattern>
		  <value>${product_version}</value>
		</substitution>
	      </substitutionList>
	    </substitute>
           </actionList>
           <shortcutList> 
           <fileShortcut>
             <comment>Release notes</comment>
             <filePath>${installdir}/share/doc/Readme.txt</filePath>
             <icon>${installdir}/share/pixmaps/readme.gif</icon>
             <name>Release Notes</name>
             <platforms>linux</platforms>
           </fileShortcut>
           <fileShortcut>
             <comment>Start Here</comment>
             <filePath>${installdir}/html/index.html</filePath>
             <name>Start Here</name>
             <icon>${installdir}/share/pixmaps/monourl.gif</icon>
             <platforms>linux</platforms>
           </fileShortcut>
           <shortcut>
             <comment>Uninstall</comment>
             <exec>${installdir}/uninstall</exec>
             <icon>${installdir}/html/bitrock.png</icon>
             <name>Uninstall</name>
             <path>${installdir}</path>
             <platforms>linux</platforms>
           </shortcut>
           <shortcut>
             <comment>Mono Develop</comment>
             <exec>${installdir}/bin/monodevelop</exec>
             <icon>${installdir}/share/pixmaps/monodevelop.png</icon>
             <name>MonoDevelop</name>
             <path>${installdir}/bin</path>
             <platforms>linux</platforms>
           </shortcut>
           <shortcut>
             <comment>Mono Documentation</comment>
             <exec>${installdir}/bin/monodoc</exec>
             <icon>${installdir}/share/pixmaps/monodoc.png</icon>
             <name>MonoDoc</name>
             <path>${installdir}/bin</path>
             <platforms>linux</platforms>
           </shortcut>
           <shortcut>
             <comment>Mono @@VERSION@@ Terminal</comment>
             <exec>/bin/bash --init-file ${installdir}/bin/setup.sh</exec>
             <icon>${installdir}/share/pixmaps/monotm48x48.png</icon>
             <name>MonoTerminal</name>
             <platforms>linux</platforms>
             <!-- we have to change "Terminal=False" to True in post install to .desktop entry -->
           </shortcut>
           <linkShortcut>
             <comment>Mono Project Website</comment>
             <icon>${installdir}/share/pixmaps/monourl.gif</icon>
             <name>Mono Project WebSite</name>
             <platforms>linux</platforms>
             <url>http://mono-project.com</url>
          </linkShortcut>
         </shortcutList> 
	  <distributionFileList>
	    <distributionDirectory>
	      <origin>html</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/bin</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/etc</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/include</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/lib</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/share</origin>
	    </distributionDirectory>
	  </distributionFileList>
	</folder>
      </folderList>
    </component>
  </componentList>
  <parameterList>
    <labelParameter>
      <name>instal_location_label</name>
      <title>Install Location: ${installdir}</title>
      <description>Running the install as a user will install Mono to the user's home directory.  Installing as root will install to /opt.</description>
    </labelParameter>
    <booleanParameter>
      <ask>1</ask>
      <cliOptionName></cliOptionName>
      <default>1</default>
      <description>Add Mono Environment Settings?</description>
      <explanation>Environment settings are needed in order to run Mono.  If you select yes, the install will attempt to add ${installdir}/bin/setup.sh to ~/.profile or ~/.bash_profile.  You will need to restart your shell for these changes to take effect.  Alternatively you can choose 'No' below, and then you will need to load setup.sh manually as needed.</explanation>
      <name>AddMonoEnv</name>
      <ruleEvaluationLogic>and</ruleEvaluationLogic>
      <title>Add Mono to your Environment</title>
      <value>1</value>
      <ruleList/>
    </booleanParameter>
  </parameterList>
      <preInstallationActionList>
        <setInstallerVariable>
          <name>installdir</name>
          <value>${platform_install_prefix}/${product_shortname}/${product_version}</value>
        </setInstallerVariable>
      </preInstallationActionList>
</project>
