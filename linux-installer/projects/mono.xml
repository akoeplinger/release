
<project>
  <allowComponentSelection>0</allowComponentSelection>
  <fullName>Mono</fullName>
  <installerFilename>${product_shortname}-${product_version}-installer.bin</installerFilename>
  <licenseFile>usr/share/doc/License.txt</licenseFile>
  <logoImage>usr/share/pixmaps/monotm48x48.png</logoImage>
  <leftImage>../projects/mono/leftpanel163x314.gif</leftImage>
  <projectSchemaVersion>1.0</projectSchemaVersion>
  <readmeFile>usr/share/doc/Readme.txt</readmeFile>
  <requireInstallationByRootUser>0</requireInstallationByRootUser>
  <shortName>mono</shortName>
  <version>@@VERSION@@</version>
  <wrapLicenseFileText>1</wrapLicenseFileText>
  <componentList>
    <component>
      <description>Default Component</description>
      <name>default</name>
      <selected>1</selected>
      <desktopShortcutList>
        <fileShortcut>
           <comment>Mono Installation Directory</comment>
           <filePath>${installdir}</filePath>
           <icon>${installdir}/share/pixmaps/monotm48x48.png</icon>
           <name>Mono</name>
           <platforms>linux</platforms>
        </fileShortcut>
      </desktopShortcutList>
      <folderList>
	<folder>
	  <description>Program Files</description>
	  <destination>${installdir}</destination>
	  <name>programfiles</name>
          <actionList>
	    <substitute>
	      <files>@@SUBST_FILES@@</files>
	      <substitutionList>
		<substitution>
		  <pattern>@@BITROCK_MONO_ROOTDIR@@</pattern>
		  <value>${installdir}</value>
		</substitution>
	      </substitutionList>
	    </substitute>
	    <substitute>
	      <files>*/html/index.html</files>
	      <substitutionList>
		<substitution>
		  <pattern>@@BITROCK_MONO_VERSION@@</pattern>
		  <value>${product_version}</value>
		</substitution>
	      </substitutionList>
	    </substitute>
           </actionList>
           <shortcutList> 
           <fileShortcut>
             <comment>Release notes</comment>
             <filePath>${installdir}/share/doc/Readme.txt</filePath>
             <icon>${installdir}/share/pixmaps/readme.gif</icon>
             <name>Release Notes</name>
             <platforms>linux</platforms>
           </fileShortcut>
           <fileShortcut>
             <comment>Start Here</comment>
             <filePath>${installdir}/html/index.html</filePath>
             <name>Start Here</name>
             <icon>${installdir}/share/pixmaps/monourl.gif</icon>
             <platforms>linux</platforms>
           </fileShortcut>
           <shortcut>
             <comment>Mono Develop</comment>
             <exec>${installdir}/bin/monodevelop</exec>
             <icon>${installdir}/share/pixmaps/monodevelop.png</icon>
             <name>MonoDevelop</name>
             <path>${installdir}/bin</path>
             <platforms>linux</platforms>
           </shortcut>
           <shortcut>
             <comment>Mono Documentacion</comment>
             <exec>${installdir}/bin/monodoc</exec>
             <icon>${installdir}/share/pixmaps/monodoc.png</icon>
             <name>MonoDoc</name>
             <path>${installdir}/bin</path>
             <platforms>linux</platforms>
           </shortcut>
           <shortcut>
             <comment>Uninstall</comment>
             <exec>${installdir}/uninstall</exec>
             <icon>${installdir}/html/bitrock.png</icon>
             <name>Uninstall</name>
             <path>${installdir}</path>
             <platforms>linux</platforms>
           </shortcut>
           <linkShortcut>
             <comment>Mono Project Website</comment>
             <icon>${installdir}/share/pixmaps/monourl.gif</icon>
             <name>Mono Project WebSite</name>
             <platforms>linux</platforms>
             <url>http://mono-project.com</url>
          </linkShortcut>
         </shortcutList> 
	  <distributionFileList>
	    <distributionDirectory>
	      <origin>html</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/bin</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/etc</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/include</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/lib</origin>
	    </distributionDirectory>
	    <distributionDirectory>
	      <origin>usr/share</origin>
	    </distributionDirectory>
	  </distributionFileList>
	</folder>
      </folderList>
    </component>
  </componentList>
  <parameterList>
    <directoryParameter>
      <ask>yes</ask>
      <cliOptionName>prefix</cliOptionName>
      <default>${platform_install_prefix}/${product_shortname}-${product_version}</default>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
      <mustBeWritable>yes</mustBeWritable>
      <mustExist>0</mustExist>
      <name>installdir</name>
      <value>${platform_install_prefix}/${product_shortname}-${product_version}</value>
    </directoryParameter>
    <booleanParameter>
      <ask>1</ask>
      <cliOptionName></cliOptionName>
      <default>1</default>
      <description>Add Mono to your PATH?</description>
      <explanation>The directory ${installdir}/bin needs to be added to your path in order to run Mono. Setup will modify your ~/.bashrc, ~/.profile files as required. Alternatively you can choose 'No' below, and add the directory manually after installation.</explanation>
      <name>AddMonoToPath</name>
      <ruleEvaluationLogic>and</ruleEvaluationLogic>
      <title>Add Mono to your Path</title>
      <value>1</value>
      <ruleList/>
    </booleanParameter>
  </parameterList>
      <postInstallationActionList>
       <actionGroup>
       <actionList>
        <addEnvironmentVariable>
          <name>PATH</name>
          <value>${installdir}/bin:$PATH</value>
        </addEnvironmentVariable>
        <addEnvironmentVariable>
          <name>PKG_CONFIG_PATH</name>
          <value>${installdir}/lib/pkgconfig:$PKG_CONFIG_PATH</value>
        </addEnvironmentVariable>
        <addEnvironmentVariable>
          <name>MANPATH</name>
          <value>${installdir}/share/man:$MANPATH</value>
        </addEnvironmentVariable>
        <addEnvironmentVariable>
          <name>LD_LIBRARY_PATH</name>
          <value>${installdir}/lib:$LD_LIBRARY_PATH</value>
        </addEnvironmentVariable>
       </actionList>
          <ruleList>
          <compareText>
           <text>${AddMonoToPath}</text>
           <logic>equals</logic>
           <value>1</value>
          </compareText>
          </ruleList>
       </actionGroup>
      </postInstallationActionList>   
</project>
